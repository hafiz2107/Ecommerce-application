<div id="wrap" class="container-fluid" style="padding-left: 285px;">
	<div class="">
		<h3>Product Management</h3>
		<a href="/admin/add-product" class="btn btn-success mb-3" style="float: right;">Add product</a>
		<table cellpadding="0" cellspacing="0" border="0" class="datatable table table-striped table-bordered"
			id="myTable">
			<thead>
				<tr>
					<th><strong>Sl. No</strong></th>
					<th><strong>Product Name</strong></th>
					<th><strong> Category</strong></th>
					<th><strong> Sub Category</strong></th>
					<th> <strong>Product Brand</strong> </th>
					<th> <strong>Suitable Bike brand</strong></th>
					<th><strong>Suitable Bike model</strong> </th>
					<th><strong>Price</strong></th>
					<th><strong>Quantity</strong></th>
					<th><strong>Added Date</strong></th>
					<th><strong>Description</strong></th>
					<th> <strong>Image</strong></th>
					<th><strong>Action</strong> </th>

				</tr>
			</thead>
			<tbody>
				{{#each products}}
				<tr class="gradeX">
					<td>{{add @index '1'}}</td>
					<td>{{this.productname}}</td>
					<td>{{this.productcategory}}</td>
					<td>{{this.productsubcategory}}</td>
					<td>{{this.productbrand}}</td>
					<td>{{this.suitablebikebrand}}</td>
					<td>{{this.suitablebikemodel}}</td>
					<td>{{this.productprice}}</td>
					<td>{{this.productquantity}}</td>
					<td>{{this.productdate}}</td>

					<td>
						<div class="comment more">{{this.productdes}}</div>
					</td>

					<td><img src="/uploads/{{this._id}}__1.jpg" alt="" style="height: 50px;"></td>
					<td class="center">
						<a href="/admin/edit-product/{{this._id}}" class="btn btn-success"><i
								class="bi bi-pencil"></i></a>

						{{!-- Modal for delte confirmation --}}

						<div class="modal fade bd-example-modal-sm" id="{{this._id}}" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">
							<div class="modal-dialog modal-sm">
								<div class="modal-content">
									<div class="modal-header">
										<h5 class="modal-title" id="exampleModalLabel">Delete</h5>
										<button type="button" class="close" data-dismiss="modal" aria-label="Close">
											<span aria-hidden="true">&times;</span>
										</button>
									</div>
									<div class="modal-body">
										Are you sure you want to delete the product
									</div>
									<div class="modal-footer">
										<button type="button" class="btn btn-secondary"
											data-dismiss="modal">Close</button>
										<a href="/admin/remove-product/{{this._id}}" class="btn btn-danger">Delete</a>
									</div>
								</div>
							</div>
						</div>

						{{!-- Modal for delte confirmation Ends--}}

						<button type="button" class="btn btn-danger" data-toggle="modal" data-target="#{{this._id}}"><i class="bi bi-trash"></i></button>
					</td>
				</tr>
				{{/each}}
		</table>
	</div>
</div>



<script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
	crossorigin="anonymous"></script>
<script src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>
<link rel="stylesheet" href="https://cdn.datatables.net/1.11.3/css/jquery.dataTables.min.css">



<script>
	$(document).ready(function () {
		$('#myTable').DataTable();
	});
	
	$(document).ready(function () {
		var showChar = 50;
		var ellipsestext = "...";
		var moretext = "more";
		var lesstext = "less";
		$('.more').each(function () {
			var content = $(this).html();

			if (content.length > showChar) {

				var c = content.substr(0, showChar);
				var h = content.substr(showChar - 1, content.length - showChar);

				var html = c + '<span class="moreelipses">' + ellipsestext + '</span>&nbsp;<span class="morecontent"><span>' + h + '</span>&nbsp;&nbsp;<a href="" class="morelink " style="">' + moretext + '<i class="bi bi-chevron-compact-down ml-2"></i></a></span>';

				$(this).html(html);
			}

		});

		$(".morelink").click(function () {
			if ($(this).hasClass("less")) {
				$(this).removeClass("less");
				$(this).html(moretext);
			} else {
				$(this).addClass("less");
				$(this).html(lesstext + '<i class="bi bi-chevron-compact-up"></i>');
			}
			$(this).parent().prev().toggle();
			$(this).prev().toggle();
			return false;
		});
	});

</script>
<style>
	.comment {
		background-color: transparent;
		margin: 10px;
	}

	a.morelink {
		text-decoration: none;
		outline: none;
		color: blue;
		font-weight: 600;
	}

	.morecontent span {
		display: none;

	}
</style>