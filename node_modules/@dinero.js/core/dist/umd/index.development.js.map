{"version":3,"file":"index.development.js","sources":["../../src/checks/messages.ts","../../src/helpers/assert.ts","../../src/helpers/createDinero.ts","../../src/utils/compare.ts","../../src/types/Calculator.ts","../../src/utils/equal.ts","../../src/utils/countTrailingZeros.ts","../../src/utils/greaterThan.ts","../../src/utils/greaterThanOrEqual.ts","../../src/utils/lessThan.ts","../../src/utils/distribute.ts","../../src/utils/isScaledAmount.ts","../../src/utils/getAmountAndScale.ts","../../src/utils/isEven.ts","../../src/utils/isHalf.ts","../../src/utils/lessThanOrEqual.ts","../../src/utils/maximum.ts","../../src/utils/minimum.ts","../../src/api/haveSameCurrency.ts","../../src/api/transformScale.ts","../../src/api/normalizeScale.ts","../../src/api/add.ts","../../src/api/allocate.ts","../../src/api/compare.ts","../../src/api/convert.ts","../../src/api/haveSameAmount.ts","../../src/api/equal.ts","../../src/api/greaterThan.ts","../../src/api/greaterThanOrEqual.ts","../../src/api/hasSubUnits.ts","../../src/api/isNegative.ts","../../src/api/isPositive.ts","../../src/api/isZero.ts","../../src/api/lessThan.ts","../../src/api/lessThanOrEqual.ts","../../src/api/maximum.ts","../../src/api/minimum.ts","../../src/api/multiply.ts","../../src/api/subtract.ts","../../src/api/toUnit.ts","../../src/api/toFormat.ts","../../src/api/toSnapshot.ts","../../src/api/trimScale.ts","../../src/round/down.ts","../../src/round/halfAwayFromZero.ts","../../src/round/halfDown.ts","../../src/round/halfEven.ts","../../src/round/halfOdd.ts","../../src/round/halfTowardsZero.ts","../../src/round/halfUp.ts","../../src/round/up.ts"],"sourcesContent":["export const INVALID_AMOUNT_MESSAGE = 'Amount is invalid.';\nexport const INVALID_SCALE_MESSAGE = 'Scale is invalid.';\nexport const INVALID_RATIOS_MESSAGE = 'Ratios are invalid.';\nexport const UNEQUAL_SCALES_MESSAGE = 'Objects must have the same scale.';\nexport const UNEQUAL_CURRENCIES_MESSAGE =\n  'Objects must have the same currency.';\n","/* eslint-disable functional/no-throw-statement, valid-jsdoc */\n/**\n * Assert a condition.\n *\n * @param condition - The condition to verify.\n * @param message - The error message to throw.\n *\n * @throws If the condition isn't met.\n */\nexport function assert(condition: boolean, message: string) {\n  if (!condition) {\n    throw new Error(`[Dinero.js] ${message}`);\n  }\n}\n","/* eslint-disable functional/no-mixed-type, functional/no-return-void, functional/no-expression-statement */\nimport type { Calculator, Dinero, DineroOptions } from '../types';\n\nexport type CreateDineroOptions<TAmount> = {\n  readonly calculator: Calculator<TAmount>;\n  readonly onCreate?: (options: DineroOptions<TAmount>) => void;\n};\n\nexport function createDinero<TAmount>({\n  calculator,\n  onCreate,\n}: CreateDineroOptions<TAmount>) {\n  return function dinero({\n    amount,\n    currency,\n    scale = currency.exponent,\n  }: DineroOptions<TAmount>): Dinero<TAmount> {\n    onCreate?.({ amount, currency, scale });\n\n    return {\n      calculator,\n      create: dinero,\n      toJSON() {\n        return {\n          amount,\n          currency,\n          scale,\n        };\n      },\n    };\n  };\n}\n","import type { Calculator } from '../types';\n\ntype ComparisonCalculator<TAmount> = Calculator<TAmount>;\n\n/**\n * Returns a compare function.\n *\n * @param calculator - The calculator to use.\n *\n * @returns The compare function.\n */\nexport function compare<TAmount>(calculator: ComparisonCalculator<TAmount>) {\n  return (subject: TAmount, comparator: TAmount) => {\n    return calculator.compare(subject, comparator);\n  };\n}\n","/* eslint-disable functional/no-mixed-type */\nimport type { BinaryOperation, TransformOperation, UnaryOperation } from '.';\n\nexport enum ComparisonOperator {\n  LT = -1,\n  EQ = 0,\n  GT = 1,\n}\n\nexport type Calculator<TInput> = {\n  readonly add: BinaryOperation<TInput>;\n  readonly compare: BinaryOperation<TInput, ComparisonOperator>;\n  readonly decrement: UnaryOperation<TInput>;\n  readonly integerDivide: BinaryOperation<TInput>;\n  readonly increment: UnaryOperation<TInput>;\n  readonly modulo: BinaryOperation<TInput>;\n  readonly multiply: BinaryOperation<TInput>;\n  readonly power: BinaryOperation<TInput>;\n  readonly subtract: BinaryOperation<TInput>;\n  readonly toNumber: TransformOperation<TInput, number>;\n  readonly zero: () => TInput;\n};\n","import { ComparisonOperator } from '../types';\n\nimport type { Calculator } from '../types';\n\ntype EqualCalculator<TAmount> = Calculator<TAmount>;\n\n/**\n * Returns an equal function.\n *\n * @param calculator - The calculator to use.\n *\n * @returns The equal function.\n */\nexport function equal<TAmount>(calculator: EqualCalculator<TAmount>) {\n  return (subject: TAmount, comparator: TAmount) => {\n    return calculator.compare(subject, comparator) === ComparisonOperator.EQ;\n  };\n}\n","/* eslint-disable functional/no-let, functional/no-loop-statement, functional/no-expression-statement */\nimport { equal } from './equal';\n\nimport type { Calculator } from '../types';\n\ntype CountTrailingZerosCalculator<TAmount> = Calculator<TAmount>;\n\nexport function countTrailingZeros<TAmount>(\n  calculator: CountTrailingZerosCalculator<TAmount>\n) {\n  const equalFn = equal(calculator);\n\n  return (input: TAmount, base: TAmount) => {\n    const zero = calculator.zero();\n\n    let i = zero;\n    let temp = input;\n\n    while (equalFn(calculator.modulo(temp, base), zero)) {\n      temp = calculator.integerDivide(temp, base);\n      i = calculator.increment(i);\n    }\n\n    return i;\n  };\n}\n","import { ComparisonOperator } from '../types';\n\nimport type { Calculator } from '../types';\n\ntype GreaterThanCalculator<TAmount> = Calculator<TAmount>;\n\n/**\n * Returns a greaterThan function.\n *\n * @param calculator - The calculator to use.\n *\n * @returns The greaterThan function.\n */\nexport function greaterThan<TAmount>(\n  calculator: GreaterThanCalculator<TAmount>\n) {\n  return (subject: TAmount, comparator: TAmount) => {\n    return calculator.compare(subject, comparator) === ComparisonOperator.GT;\n  };\n}\n","import { equal } from './equal';\nimport { greaterThan } from './greaterThan';\n\nimport type { Calculator } from '../types';\n\ntype GreaterThanOrEqualCalculator<TAmount> = Calculator<TAmount>;\n\n/**\n * Returns a greaterThanOrEqual function.\n *\n * @param calculator - The calculator to use.\n *\n * @returns The greaterThanOrEqual function.\n */\nexport function greaterThanOrEqual<TAmount>(\n  calculator: GreaterThanOrEqualCalculator<TAmount>\n) {\n  return (subject: TAmount, comparator: TAmount) => {\n    return (\n      greaterThan(calculator)(subject, comparator) ||\n      equal(calculator)(subject, comparator)\n    );\n  };\n}\n","import { ComparisonOperator } from '../types';\n\nimport type { Calculator } from '../types';\n\ntype LessThanCalculator<TAmount> = Calculator<TAmount>;\n\n/**\n * Returns a lessThan function.\n *\n * @param calculator - The calculator to use.\n *\n * @returns The lessThan function.\n */\nexport function lessThan<TAmount>(calculator: LessThanCalculator<TAmount>) {\n  return (subject: TAmount, comparator: TAmount) => {\n    return calculator.compare(subject, comparator) === ComparisonOperator.LT;\n  };\n}\n","/* eslint-disable functional/no-let, functional/no-loop-statement, functional/immutable-data, functional/no-expression-statement */\n\nimport { equal } from './equal';\nimport { greaterThan } from './greaterThan';\nimport { greaterThanOrEqual } from './greaterThanOrEqual';\nimport { lessThan } from './lessThan';\n\nimport type { Calculator } from '../types';\n\ntype DistributeCalculator<TAmount> = Calculator<TAmount>;\n\n/**\n * Returns a distribute function.\n *\n * @param calculator - The calculator to use.\n *\n * @returns The distribute function.\n */\nexport function distribute<TAmount>(calculator: DistributeCalculator<TAmount>) {\n  return (value: TAmount, ratios: readonly TAmount[]) => {\n    const equalFn = equal(calculator);\n    const greaterThanFn = greaterThan(calculator);\n    const lessThanFn = lessThan(calculator);\n    const greaterThanOrEqualFn = greaterThanOrEqual(calculator);\n\n    const zero = calculator.zero();\n    const one = calculator.increment(zero);\n\n    const total = ratios.reduce((a, b) => calculator.add(a, b), zero);\n\n    if (equalFn(total, zero)) {\n      return ratios;\n    }\n\n    let remainder = value;\n\n    const shares = ratios.map((ratio) => {\n      const share =\n        calculator.integerDivide(calculator.multiply(value, ratio), total) ||\n        zero;\n\n      remainder = calculator.subtract(remainder, share);\n\n      return share;\n    });\n\n    const isPositive = greaterThanOrEqualFn(value, zero);\n    const compare = isPositive ? greaterThanFn : lessThanFn;\n    const amount = isPositive ? one : calculator.decrement(zero);\n\n    let i = 0;\n\n    while (compare(remainder, zero)) {\n      if (!equalFn(ratios[i], zero)) {\n        shares[i] = calculator.add(shares[i], amount);\n        remainder = calculator.subtract(remainder, amount);\n      }\n\n      i++;\n    }\n\n    return shares;\n  };\n}\n","import type { Rate, ScaledAmount } from '../types';\n\nexport function isScaledAmount<TAmount>(\n  amount: Rate<TAmount>\n): amount is ScaledAmount<TAmount> {\n  return (amount as ScaledAmount<TAmount>)?.hasOwnProperty('amount');\n}\n","import { isScaledAmount } from './isScaledAmount';\n\nimport type { ScaledAmount } from '../types';\n\nexport function getAmountAndScale<TAmount>(\n  value: ScaledAmount<TAmount> | TAmount,\n  zero: TAmount\n) {\n  if (isScaledAmount(value)) {\n    return { amount: value.amount, scale: value?.scale ?? zero };\n  }\n\n  return { amount: value, scale: zero };\n}\n","/**\n * Return whether a number is even.\n *\n * @param value - The number to test.\n *\n * @returns Whether the number is even.\n */\nexport function isEven(value: number) {\n  return value % 2 === 0;\n}\n","/**\n * Return whether a number is half.\n *\n * @param value - The number to test.\n *\n * @returns Whether the number is half.\n */\nexport function isHalf(value: number) {\n  return Math.abs(value) % 1 === 0.5;\n}\n","import { equal } from './equal';\nimport { lessThan } from './lessThan';\n\nimport type { Calculator } from '../types';\n\ntype LessThanOrEqualCalculator<TAmount> = Calculator<TAmount>;\n\n/**\n * Returns a lessThanOrEqual function.\n *\n * @param calculator - The calculator to use.\n *\n * @returns The lessThanOrEqual function.\n */\nexport function lessThanOrEqual<TAmount>(\n  calculator: LessThanOrEqualCalculator<TAmount>\n) {\n  return (subject: TAmount, comparator: TAmount) => {\n    return (\n      lessThan(calculator)(subject, comparator) ||\n      equal(calculator)(subject, comparator)\n    );\n  };\n}\n","import { lessThan } from './lessThan';\n\nimport type { Calculator } from '../types';\n\ntype MaximumCalculator<TAmount> = Calculator<TAmount>;\n\n/**\n * Returns a maximum function.\n *\n * @param calculator - The calculator to use.\n *\n * @returns The maximum function.\n */\nexport function maximum<TAmount>(calculator: MaximumCalculator<TAmount>) {\n  const lessThanFn = lessThan(calculator);\n\n  return (values: readonly TAmount[]) => {\n    return values.reduce((acc, curr) => {\n      return lessThanFn(acc, curr) ? curr : acc;\n    });\n  };\n}\n","import { greaterThan } from './greaterThan';\n\nimport type { Calculator } from '../types';\n\ntype MinimumCalculator<TAmount> = Calculator<TAmount>;\n\n/**\n * Returns a minimum function.\n *\n * @param calculator - The calculator to use.\n *\n * @returns The minimum function.\n */\nexport function minimum<TAmount>(calculator: MinimumCalculator<TAmount>) {\n  const greaterThanFn = greaterThan(calculator);\n\n  return (values: readonly TAmount[]) => {\n    return values.reduce((acc, curr) => {\n      return greaterThanFn(acc, curr) ? curr : acc;\n    });\n  };\n}\n","import { equal } from '../utils';\n\nimport type { Dinero } from '../types';\n\nexport function haveSameCurrency<TAmount>(\n  dineroObjects: ReadonlyArray<Dinero<TAmount>>\n) {\n  const [firstDinero, ...otherDineros] = dineroObjects;\n  const { currency: comparator } = firstDinero.toJSON();\n  const equalFn = equal(firstDinero.calculator);\n\n  return otherDineros.every((d) => {\n    const { currency: subject } = d.toJSON();\n\n    return (\n      subject.code === comparator.code &&\n      equalFn(subject.base, comparator.base) &&\n      equalFn(subject.exponent, comparator.exponent)\n    );\n  });\n}\n","import { greaterThan } from '../utils';\n\nimport type { Calculator, Dinero } from '../types';\n\nexport type TransformScaleParams<TAmount> = readonly [\n  dineroObject: Dinero<TAmount>,\n  newScale: TAmount\n];\n\nexport function transformScale<TAmount>(calculator: Calculator<TAmount>) {\n  const greaterThanFn = greaterThan(calculator);\n\n  return function transformScaleFn(\n    ...[dineroObject, newScale]: TransformScaleParams<TAmount>\n  ) {\n    const { amount, currency, scale } = dineroObject.toJSON();\n\n    const isNewScaleLarger = greaterThanFn(newScale, scale);\n    const operation = isNewScaleLarger\n      ? calculator.multiply\n      : calculator.integerDivide;\n    const terms = isNewScaleLarger\n      ? ([newScale, scale] as const)\n      : ([scale, newScale] as const);\n\n    const factor = calculator.power(\n      currency.base,\n      calculator.subtract(...terms)\n    );\n\n    return dineroObject.create({\n      amount: operation(amount, factor),\n      currency,\n      scale: newScale,\n    });\n  };\n}\n","import { equal, maximum } from '../utils';\n\nimport { transformScale } from './transformScale';\n\nimport type { Calculator, Dinero } from '../types';\n\nexport type NormalizeScaleParams<TAmount> = readonly [\n  dineroObjects: ReadonlyArray<Dinero<TAmount>>\n];\n\nexport function normalizeScale<TAmount>(calculator: Calculator<TAmount>) {\n  const maximumFn = maximum(calculator);\n  const convertScaleFn = transformScale(calculator);\n  const equalFn = equal(calculator);\n\n  return function _normalizeScale(\n    ...[dineroObjects]: NormalizeScaleParams<TAmount>\n  ) {\n    const highestScale = dineroObjects.reduce((highest, current) => {\n      const { scale } = current.toJSON();\n\n      return maximumFn([highest, scale]);\n    }, calculator.zero());\n\n    return dineroObjects.map((d) => {\n      const { scale } = d.toJSON();\n\n      return !equalFn(scale, highestScale)\n        ? convertScaleFn(d, highestScale)\n        : d;\n    });\n  };\n}\n","/* eslint-disable functional/no-expression-statement */\nimport { UNEQUAL_CURRENCIES_MESSAGE } from '../checks';\nimport { assert } from '../helpers';\n\nimport { haveSameCurrency } from './haveSameCurrency';\nimport { normalizeScale } from './normalizeScale';\n\nimport type { Calculator, Dinero } from '../types';\n\nexport type AddParams<TAmount> = readonly [\n  augend: Dinero<TAmount>,\n  addend: Dinero<TAmount>\n];\n\nfunction unsafeAdd<TAmount>(calculator: Calculator<TAmount>) {\n  return function add(...[augend, addend]: AddParams<TAmount>) {\n    const { amount: augendAmount, currency, scale } = augend.toJSON();\n    const { amount: addendAmount } = addend.toJSON();\n\n    const amount = calculator.add(augendAmount, addendAmount);\n\n    return augend.create({\n      amount,\n      currency,\n      scale,\n    });\n  };\n}\n\nexport function safeAdd<TAmount>(calculator: Calculator<TAmount>) {\n  const normalizeFn = normalizeScale(calculator);\n  const addFn = unsafeAdd(calculator);\n\n  return function add(...[augend, addend]: AddParams<TAmount>) {\n    const condition = haveSameCurrency([augend, addend]);\n    assert(condition, UNEQUAL_CURRENCIES_MESSAGE);\n\n    const [newAugend, newAddend] = normalizeFn([augend, addend]);\n\n    return addFn(newAugend, newAddend);\n  };\n}\n","/* eslint-disable functional/no-expression-statement */\nimport { INVALID_RATIOS_MESSAGE } from '../checks';\nimport { assert } from '../helpers';\nimport {\n  distribute,\n  equal,\n  getAmountAndScale,\n  greaterThan,\n  greaterThanOrEqual,\n  maximum,\n} from '../utils';\n\nimport { transformScale } from './transformScale';\n\nimport type { Calculator, Dinero, ScaledAmount } from '../types';\n\ntype UnsafeAllocateParams<TAmount> = readonly [\n  dineroObject: Dinero<TAmount>,\n  ratios: ReadonlyArray<ScaledAmount<TAmount>>\n];\n\nfunction unsafeAllocate<TAmount>(calculator: Calculator<TAmount>) {\n  return function allocate(\n    ...[dineroObject, ratios]: UnsafeAllocateParams<TAmount>\n  ) {\n    const { amount, currency, scale } = dineroObject.toJSON();\n    const distributeFn = distribute(calculator);\n    const shares = distributeFn(\n      amount,\n      ratios.map((ratio) => ratio.amount)\n    );\n\n    return shares.map((share) => {\n      return dineroObject.create({\n        amount: share,\n        currency,\n        scale,\n      });\n    });\n  };\n}\n\nexport type AllocateParams<TAmount> = readonly [\n  dineroObject: Dinero<TAmount>,\n  ratios: ReadonlyArray<ScaledAmount<TAmount> | TAmount>\n];\n\nexport function safeAllocate<TAmount>(calculator: Calculator<TAmount>) {\n  const allocateFn = unsafeAllocate(calculator);\n  const greaterThanOrEqualFn = greaterThanOrEqual(calculator);\n  const greaterThanFn = greaterThan(calculator);\n  const convertScaleFn = transformScale(calculator);\n  const maximumFn = maximum(calculator);\n  const equalFn = equal(calculator);\n  const zero = calculator.zero();\n  const ten = new Array(10).fill(null).reduce(calculator.increment, zero);\n\n  return function allocate(...[dineroObject, ratios]: AllocateParams<TAmount>) {\n    const hasRatios = ratios.length > 0;\n    const scaledRatios = ratios.map((ratio) => getAmountAndScale(ratio, zero));\n    const highestRatioScale = hasRatios\n      ? maximumFn(scaledRatios.map(({ scale }) => scale))\n      : zero;\n    const normalizedRatios = scaledRatios.map(({ amount, scale }) => {\n      const factor = equalFn(scale, highestRatioScale)\n        ? zero\n        : calculator.subtract(highestRatioScale, scale);\n\n      return {\n        amount: calculator.multiply(amount, calculator.power(ten, factor)),\n        scale,\n      };\n    });\n    const hasOnlyPositiveRatios = normalizedRatios.every(({ amount }) =>\n      greaterThanOrEqualFn(amount, zero)\n    );\n    const hasOneNonZeroRatio = normalizedRatios.some(({ amount }) =>\n      greaterThanFn(amount, zero)\n    );\n\n    const condition = hasRatios && hasOnlyPositiveRatios && hasOneNonZeroRatio;\n    assert(condition, INVALID_RATIOS_MESSAGE);\n\n    const { scale } = dineroObject.toJSON();\n    const newScale = calculator.add(scale, highestRatioScale);\n\n    return allocateFn(convertScaleFn(dineroObject, newScale), normalizedRatios);\n  };\n}\n","/* eslint-disable functional/no-expression-statement */\nimport { UNEQUAL_CURRENCIES_MESSAGE } from '../checks';\nimport { assert } from '../helpers';\nimport { compare as cmp } from '../utils';\n\nimport { haveSameCurrency } from './haveSameCurrency';\nimport { normalizeScale } from './normalizeScale';\n\nimport type { Calculator, Dinero } from '../types';\n\nexport type CompareParams<TAmount> = readonly [\n  dineroObject: Dinero<TAmount>,\n  comparator: Dinero<TAmount>\n];\n\nfunction unsafeCompare<TAmount>(calculator: Calculator<TAmount>) {\n  const compareFn = cmp(calculator);\n\n  return function compare(\n    ...[dineroObject, comparator]: CompareParams<TAmount>\n  ) {\n    const dineroObjects = [dineroObject, comparator];\n\n    const [subjectAmount, comparatorAmount] = dineroObjects.map((d) => {\n      const { amount } = d.toJSON();\n\n      return amount;\n    });\n\n    return compareFn(subjectAmount, comparatorAmount);\n  };\n}\n\nexport function safeCompare<TAmount>(calculator: Calculator<TAmount>) {\n  const normalizeFn = normalizeScale(calculator);\n  const compareFn = unsafeCompare(calculator);\n\n  return function compare(\n    ...[dineroObject, comparator]: CompareParams<TAmount>\n  ) {\n    const condition = haveSameCurrency([dineroObject, comparator]);\n    assert(condition, UNEQUAL_CURRENCIES_MESSAGE);\n\n    const [subjectAmount, comparatorAmount] = normalizeFn([\n      dineroObject,\n      comparator,\n    ]);\n\n    return compareFn(subjectAmount, comparatorAmount);\n  };\n}\n","import { getAmountAndScale, maximum } from '../utils';\n\nimport { transformScale } from './transformScale';\n\nimport type { Calculator, Dinero, Rates } from '../types';\nimport type { Currency } from '@dinero.js/currencies';\n\nexport type ConvertParams<TAmount> = readonly [\n  dineroObject: Dinero<TAmount>,\n  newCurrency: Currency<TAmount>,\n  rates: Rates<TAmount>\n];\n\nexport function convert<TAmount>(calculator: Calculator<TAmount>) {\n  const convertScaleFn = transformScale(calculator);\n  const maximumFn = maximum(calculator);\n  const zero = calculator.zero();\n\n  return function convertFn(\n    ...[dineroObject, newCurrency, rates]: ConvertParams<TAmount>\n  ) {\n    const rate = rates[newCurrency.code];\n    const { amount, scale } = dineroObject.toJSON();\n    const { amount: rateAmount, scale: rateScale } = getAmountAndScale(\n      rate,\n      zero\n    );\n\n    const newScale = calculator.add(scale, rateScale);\n\n    return convertScaleFn(\n      dineroObject.create({\n        amount: calculator.multiply(amount, rateAmount),\n        currency: newCurrency,\n        scale: newScale,\n      }),\n      maximumFn([newScale, newCurrency.exponent])\n    );\n  };\n}\n","import { equal } from '../utils';\n\nimport { normalizeScale } from './normalizeScale';\n\nimport type { Calculator, Dinero } from '../types';\n\nexport type HaveSameAmountParams<TAmount> = readonly [\n  dineroObjects: ReadonlyArray<Dinero<TAmount>>\n];\n\nexport function haveSameAmount<TAmount>(calculator: Calculator<TAmount>) {\n  const normalizeFn = normalizeScale(calculator);\n  const equalFn = equal(calculator);\n\n  return function _haveSameAmount(\n    ...[dineroObjects]: HaveSameAmountParams<TAmount>\n  ) {\n    const [firstDinero, ...otherDineros] = normalizeFn(dineroObjects);\n    const { amount: comparatorAmount } = firstDinero.toJSON();\n\n    return otherDineros.every((d) => {\n      const { amount: subjectAmount } = d.toJSON();\n\n      return equalFn(subjectAmount, comparatorAmount);\n    });\n  };\n}\n","import { haveSameAmount } from './haveSameAmount';\nimport { haveSameCurrency } from './haveSameCurrency';\n\nimport type { Calculator, Dinero } from '../types';\n\nexport type EqualParams<TAmount> = readonly [\n  dineroObject: Dinero<TAmount>,\n  comparator: Dinero<TAmount>\n];\n\nexport function equal<TAmount>(calculator: Calculator<TAmount>) {\n  return function _equal(...[dineroObject, comparator]: EqualParams<TAmount>) {\n    return (\n      haveSameAmount(calculator)([dineroObject, comparator]) &&\n      haveSameCurrency([dineroObject, comparator])\n    );\n  };\n}\n","/* eslint-disable functional/no-expression-statement */\nimport { UNEQUAL_CURRENCIES_MESSAGE } from '../checks';\nimport { assert } from '../helpers';\nimport { greaterThan as gt } from '../utils';\n\nimport { haveSameCurrency } from './haveSameCurrency';\nimport { normalizeScale } from './normalizeScale';\n\nimport type { Calculator, Dinero } from '../types';\n\nexport type GreaterThanParams<TAmount> = readonly [\n  dineroObject: Dinero<TAmount>,\n  comparator: Dinero<TAmount>\n];\n\nfunction unsafeGreaterThan<TAmount>(calculator: Calculator<TAmount>) {\n  const greaterThanFn = gt(calculator);\n\n  return function greaterThan(\n    ...[dineroObject, comparator]: GreaterThanParams<TAmount>\n  ) {\n    const dineroObjects = [dineroObject, comparator];\n\n    const [subjectAmount, comparatorAmount] = dineroObjects.map((d) => {\n      const { amount } = d.toJSON();\n\n      return amount;\n    });\n\n    return greaterThanFn(subjectAmount, comparatorAmount);\n  };\n}\n\nexport function safeGreaterThan<TAmount>(calculator: Calculator<TAmount>) {\n  const normalizeFn = normalizeScale(calculator);\n  const greaterThanFn = unsafeGreaterThan(calculator);\n\n  return function greaterThan(\n    ...[dineroObject, comparator]: GreaterThanParams<TAmount>\n  ) {\n    const condition = haveSameCurrency([dineroObject, comparator]);\n    assert(condition, UNEQUAL_CURRENCIES_MESSAGE);\n\n    const [subjectAmount, comparatorAmount] = normalizeFn([\n      dineroObject,\n      comparator,\n    ]);\n\n    return greaterThanFn(subjectAmount, comparatorAmount);\n  };\n}\n","/* eslint-disable functional/no-expression-statement */\nimport { UNEQUAL_CURRENCIES_MESSAGE } from '../checks';\nimport { assert } from '../helpers';\nimport { greaterThanOrEqual as gte } from '../utils';\n\nimport { haveSameCurrency } from './haveSameCurrency';\nimport { normalizeScale } from './normalizeScale';\n\nimport type { Calculator, Dinero } from '../types';\n\nexport type GreaterThanOrEqualParams<TAmount> = readonly [\n  dineroObject: Dinero<TAmount>,\n  comparator: Dinero<TAmount>\n];\n\nfunction unsafeGreaterThanOrEqual<TAmount>(calculator: Calculator<TAmount>) {\n  const greaterThanOrEqualFn = gte(calculator);\n\n  return function greaterThanOrEqual(\n    ...[dineroObject, comparator]: GreaterThanOrEqualParams<TAmount>\n  ) {\n    const dineroObjects = [dineroObject, comparator];\n\n    const [subjectAmount, comparatorAmount] = dineroObjects.map((d) => {\n      const { amount } = d.toJSON();\n\n      return amount;\n    });\n\n    return greaterThanOrEqualFn(subjectAmount, comparatorAmount);\n  };\n}\n\nexport function safeGreaterThanOrEqual<TAmount>(\n  calculator: Calculator<TAmount>\n) {\n  const normalizeFn = normalizeScale(calculator);\n  const greaterThanOrEqualFn = unsafeGreaterThanOrEqual(calculator);\n\n  return function greaterThanOrEqual(\n    ...[dineroObject, comparator]: GreaterThanOrEqualParams<TAmount>\n  ) {\n    const condition = haveSameCurrency([dineroObject, comparator]);\n    assert(condition, UNEQUAL_CURRENCIES_MESSAGE);\n\n    const [subjectAmount, comparatorAmount] = normalizeFn([\n      dineroObject,\n      comparator,\n    ]);\n\n    return greaterThanOrEqualFn(subjectAmount, comparatorAmount);\n  };\n}\n","import { equal } from '../utils';\n\nimport type { Calculator, Dinero } from '../types';\n\nexport type HasSubUnitsParams<TAmount> = readonly [\n  dineroObject: Dinero<TAmount>\n];\n\nexport function hasSubUnits<TAmount>(calculator: Calculator<TAmount>) {\n  const equalFn = equal(calculator);\n\n  return function _hasSubUnits(...[dineroObject]: HasSubUnitsParams<TAmount>) {\n    const { amount, currency, scale } = dineroObject.toJSON();\n\n    return !equalFn(\n      calculator.modulo(amount, calculator.power(currency.base, scale)),\n      calculator.zero()\n    );\n  };\n}\n","import { lessThan } from '../utils';\n\nimport type { Calculator, Dinero } from '../types';\n\nexport type IsNegativeParams<TAmount> = readonly [\n  dineroObject: Dinero<TAmount>\n];\n\nexport function isNegative<TAmount>(calculator: Calculator<TAmount>) {\n  const lessThanFn = lessThan(calculator);\n\n  return function _isNegative(...[dineroObject]: IsNegativeParams<TAmount>) {\n    const { amount } = dineroObject.toJSON();\n\n    return lessThanFn(amount, calculator.zero());\n  };\n}\n","import { greaterThanOrEqual } from '../utils';\n\nimport type { Calculator, Dinero } from '../types';\n\nexport type IsPositiveParams<TAmount> = readonly [\n  dineroObject: Dinero<TAmount>\n];\n\nexport function isPositive<TAmount>(calculator: Calculator<TAmount>) {\n  const greaterThanOrEqualFn = greaterThanOrEqual(calculator);\n\n  return function _isPositive(...[dineroObject]: IsPositiveParams<TAmount>) {\n    const { amount } = dineroObject.toJSON();\n\n    return greaterThanOrEqualFn(amount, calculator.zero());\n  };\n}\n","import { equal } from '../utils';\n\nimport type { Calculator, Dinero } from '../types';\n\nexport type IsZeroParams<TAmount> = readonly [dineroObject: Dinero<TAmount>];\n\nexport function isZero<TAmount>(calculator: Calculator<TAmount>) {\n  const equalFn = equal(calculator);\n\n  return function _isZero(...[dineroObject]: IsZeroParams<TAmount>) {\n    const { amount } = dineroObject.toJSON();\n\n    return equalFn(amount, calculator.zero());\n  };\n}\n","/* eslint-disable functional/no-expression-statement */\nimport { UNEQUAL_CURRENCIES_MESSAGE } from '../checks';\nimport { assert } from '../helpers';\nimport { lessThan as lt } from '../utils';\n\nimport { haveSameCurrency } from './haveSameCurrency';\nimport { normalizeScale } from './normalizeScale';\n\nimport type { Calculator, Dinero } from '../types';\n\nexport type LessThanParams<TAmount> = readonly [\n  dineroObject: Dinero<TAmount>,\n  comparator: Dinero<TAmount>\n];\n\nfunction unsafeLessThan<TAmount>(calculator: Calculator<TAmount>) {\n  const lessThanFn = lt(calculator);\n\n  return function lessThan(\n    ...[dineroObject, comparator]: LessThanParams<TAmount>\n  ) {\n    const dineroObjects = [dineroObject, comparator];\n\n    const [subjectAmount, comparatorAmount] = dineroObjects.map((d) => {\n      const { amount } = d.toJSON();\n\n      return amount;\n    });\n\n    return lessThanFn(subjectAmount, comparatorAmount);\n  };\n}\n\nexport function safeLessThan<TAmount>(calculator: Calculator<TAmount>) {\n  const normalizeFn = normalizeScale(calculator);\n  const lessThanFn = unsafeLessThan(calculator);\n\n  return function lessThan(\n    ...[dineroObject, comparator]: LessThanParams<TAmount>\n  ) {\n    const condition = haveSameCurrency([dineroObject, comparator]);\n    assert(condition, UNEQUAL_CURRENCIES_MESSAGE);\n\n    const [subjectAmount, comparatorAmount] = normalizeFn([\n      dineroObject,\n      comparator,\n    ]);\n\n    return lessThanFn(subjectAmount, comparatorAmount);\n  };\n}\n","/* eslint-disable functional/no-expression-statement */\nimport { UNEQUAL_CURRENCIES_MESSAGE } from '../checks';\nimport { assert } from '../helpers';\nimport { lessThanOrEqual as lte } from '../utils';\n\nimport { haveSameCurrency } from './haveSameCurrency';\nimport { normalizeScale } from './normalizeScale';\n\nimport type { Calculator, Dinero } from '../types';\n\nexport type LessThanOrEqualParams<TAmount> = readonly [\n  dineroObject: Dinero<TAmount>,\n  comparator: Dinero<TAmount>\n];\n\nfunction unsafeLessThanOrEqual<TAmount>(calculator: Calculator<TAmount>) {\n  const lessThanOrEqualFn = lte(calculator);\n\n  return function lessThanOrEqual(\n    ...[dineroObject, comparator]: LessThanOrEqualParams<TAmount>\n  ) {\n    const dineroObjects = [dineroObject, comparator];\n\n    const [subjectAmount, comparatorAmount] = dineroObjects.map((d) => {\n      const { amount } = d.toJSON();\n\n      return amount;\n    });\n\n    return lessThanOrEqualFn(subjectAmount, comparatorAmount);\n  };\n}\n\nexport function safeLessThanOrEqual<TAmount>(calculator: Calculator<TAmount>) {\n  const normalizeFn = normalizeScale(calculator);\n  const lessThanOrEqualFn = unsafeLessThanOrEqual(calculator);\n\n  return function lessThanOrEqual(\n    ...[dineroObject, comparator]: LessThanOrEqualParams<TAmount>\n  ) {\n    const condition = haveSameCurrency([dineroObject, comparator]);\n    assert(condition, UNEQUAL_CURRENCIES_MESSAGE);\n\n    const [subjectAmount, comparatorAmount] = normalizeFn([\n      dineroObject,\n      comparator,\n    ]);\n\n    return lessThanOrEqualFn(subjectAmount, comparatorAmount);\n  };\n}\n","/* eslint-disable functional/no-expression-statement */\nimport { UNEQUAL_CURRENCIES_MESSAGE } from '../checks';\nimport { assert } from '../helpers';\nimport { maximum as max } from '../utils';\n\nimport { haveSameCurrency } from './haveSameCurrency';\nimport { normalizeScale } from './normalizeScale';\n\nimport type { Calculator, Dinero } from '../types';\n\nexport type MaximumParams<TAmount> = readonly [\n  dineroObjects: ReadonlyArray<Dinero<TAmount>>\n];\n\nfunction unsafeMaximum<TAmount>(calculator: Calculator<TAmount>) {\n  const maxFn = max(calculator);\n\n  return function maximum(...[dineroObjects]: MaximumParams<TAmount>) {\n    const [firstDinero] = dineroObjects;\n    const { currency, scale } = firstDinero.toJSON();\n\n    const amount = maxFn(\n      dineroObjects.map((subject) => {\n        const { amount: subjectAmount } = subject.toJSON();\n\n        return subjectAmount;\n      })\n    );\n\n    return firstDinero.create({\n      amount,\n      currency,\n      scale,\n    });\n  };\n}\n\nexport function safeMaximum<TAmount>(calculator: Calculator<TAmount>) {\n  const normalizeFn = normalizeScale(calculator);\n  const maxFn = unsafeMaximum(calculator);\n\n  return function maximum(...[dineroObjects]: MaximumParams<TAmount>) {\n    const condition = haveSameCurrency(dineroObjects);\n    assert(condition, UNEQUAL_CURRENCIES_MESSAGE);\n\n    const normalizedDineroObjects = normalizeFn(dineroObjects);\n\n    return maxFn(normalizedDineroObjects);\n  };\n}\n","/* eslint-disable functional/no-expression-statement */\nimport { UNEQUAL_CURRENCIES_MESSAGE } from '../checks';\nimport { assert } from '../helpers';\nimport { minimum as min } from '../utils';\n\nimport { haveSameCurrency } from './haveSameCurrency';\nimport { normalizeScale } from './normalizeScale';\n\nimport type { Calculator, Dinero } from '../types';\n\nexport type MinimumParams<TAmount> = readonly [\n  dineroObjects: ReadonlyArray<Dinero<TAmount>>\n];\n\nfunction unsafeMinimum<TAmount>(calculator: Calculator<TAmount>) {\n  const minFn = min(calculator);\n\n  return function minimum(...[dineroObjects]: MinimumParams<TAmount>) {\n    const [firstDinero] = dineroObjects;\n    const { currency, scale } = firstDinero.toJSON();\n\n    const amount = minFn(\n      dineroObjects.map((subject) => {\n        const { amount: subjectAmount } = subject.toJSON();\n\n        return subjectAmount;\n      })\n    );\n\n    return firstDinero.create({\n      amount,\n      currency,\n      scale,\n    });\n  };\n}\n\nexport function safeMinimum<TAmount>(calculator: Calculator<TAmount>) {\n  const normalizeFn = normalizeScale(calculator);\n  const minFn = unsafeMinimum(calculator);\n\n  return function maximum(...[dineroObjects]: MinimumParams<TAmount>) {\n    const condition = haveSameCurrency(dineroObjects);\n    assert(condition, UNEQUAL_CURRENCIES_MESSAGE);\n\n    const normalizedDineroObjects = normalizeFn(dineroObjects);\n\n    return minFn(normalizedDineroObjects);\n  };\n}\n","import { getAmountAndScale } from '../utils';\n\nimport { transformScale } from './transformScale';\n\nimport type { Calculator, Dinero, ScaledAmount } from '../types';\n\nexport type MultiplyParams<TAmount> = readonly [\n  multiplicand: Dinero<TAmount>,\n  multiplier: ScaledAmount<TAmount> | TAmount\n];\n\nexport function multiply<TAmount>(calculator: Calculator<TAmount>) {\n  const convertScaleFn = transformScale(calculator);\n  const zero = calculator.zero();\n\n  return function multiplyFn(\n    ...[multiplicand, multiplier]: MultiplyParams<TAmount>\n  ) {\n    const { amount, currency, scale } = multiplicand.toJSON();\n    const { amount: multiplierAmount, scale: multiplierScale } =\n      getAmountAndScale(multiplier, zero);\n\n    const newScale = calculator.add(scale, multiplierScale);\n\n    return convertScaleFn(\n      multiplicand.create({\n        amount: calculator.multiply(amount, multiplierAmount),\n        currency,\n        scale: newScale,\n      }),\n      newScale\n    );\n  };\n}\n","/* eslint-disable functional/no-expression-statement */\nimport { UNEQUAL_CURRENCIES_MESSAGE } from '../checks';\nimport { assert } from '../helpers';\n\nimport { haveSameCurrency } from './haveSameCurrency';\nimport { normalizeScale } from './normalizeScale';\n\nimport type { Calculator, Dinero } from '../types';\n\nexport type SubtractParams<TAmount> = readonly [\n  minuend: Dinero<TAmount>,\n  subtrahend: Dinero<TAmount>\n];\n\nfunction unsafeSubtract<TAmount>(calculator: Calculator<TAmount>) {\n  return function subtract(...[minuend, subtrahend]: SubtractParams<TAmount>) {\n    const { amount: minuendAmount, currency, scale } = minuend.toJSON();\n    const { amount: subtrahendAmount } = subtrahend.toJSON();\n\n    const amount = calculator.subtract(minuendAmount, subtrahendAmount);\n\n    return minuend.create({\n      amount,\n      currency,\n      scale,\n    });\n  };\n}\n\nexport function safeSubtract<TAmount>(calculator: Calculator<TAmount>) {\n  const normalizeFn = normalizeScale(calculator);\n  const subtractFn = unsafeSubtract(calculator);\n\n  return function subtract(...[minuend, subtrahend]: SubtractParams<TAmount>) {\n    const condition = haveSameCurrency([minuend, subtrahend]);\n    assert(condition, UNEQUAL_CURRENCIES_MESSAGE);\n\n    const [newMinuend, newSubtrahend] = normalizeFn([minuend, subtrahend]);\n\n    return subtractFn(newMinuend, newSubtrahend);\n  };\n}\n","import type { Calculator, Dinero, RoundingOptions } from '../types';\n\nexport type ToUnitParams<TAmount> = readonly [\n  dineroObject: Dinero<TAmount>,\n  options?: RoundingOptions<TAmount>\n];\n\nexport function toUnit<TAmount>(calculator: Calculator<TAmount>) {\n  return function toUnitFn(...[dineroObject, options]: ToUnitParams<TAmount>) {\n    const round = options?.round || identity;\n    const { amount, currency, scale } = dineroObject.toJSON();\n    const { power, toNumber } = calculator;\n\n    const toUnitFactor = toNumber(power(currency.base, scale));\n    const factor = toNumber(power(currency.base, options?.digits ?? scale));\n\n    return round((toNumber(amount) / toUnitFactor) * factor) / factor;\n  };\n}\n\nfunction identity<TValue>(value: TValue) {\n  return value;\n}\n","import { toUnit } from './toUnit';\n\nimport type { Calculator, Dinero, Transformer } from '../types';\n\nexport type ToFormatParams<TAmount> = readonly [\n  dineroObject: Dinero<TAmount>,\n  transformer: Transformer<TAmount>\n];\n\nexport function toFormat<TAmount>(calculator: Calculator<TAmount>) {\n  const toUnitFn = toUnit(calculator);\n\n  return function toFormatFn(\n    ...[dineroObject, transformer]: ToFormatParams<TAmount>\n  ) {\n    const { currency, scale } = dineroObject.toJSON();\n    const amount = toUnitFn(dineroObject, { digits: scale });\n\n    return transformer({ amount, currency, dineroObject });\n  };\n}\n","import type { Dinero } from '../types';\n\nexport function toSnapshot<TAmount>(dineroObject: Dinero<TAmount>) {\n  return dineroObject.toJSON();\n}\n","import { countTrailingZeros, equal, maximum } from '../utils';\n\nimport { transformScale } from './transformScale';\n\nimport type { Calculator, Dinero } from '../types';\n\nexport type TrimScaleParams<TAmount> = readonly [dineroObject: Dinero<TAmount>];\n\nexport function trimScale<TAmount>(calculator: Calculator<TAmount>) {\n  const countTrailingZerosFn = countTrailingZeros(calculator);\n  const equalFn = equal(calculator);\n  const maximumFn = maximum(calculator);\n  const transformScaleFn = transformScale(calculator);\n\n  return function trimScaleFn(...[dineroObject]: TrimScaleParams<TAmount>) {\n    const { amount, currency, scale } = dineroObject.toJSON();\n    const { base, exponent } = currency;\n\n    const trailingZerosLength = countTrailingZerosFn(amount, base);\n    const difference = calculator.subtract(scale, trailingZerosLength);\n    const newScale = maximumFn([difference, exponent]);\n\n    if (equalFn(newScale, scale)) {\n      return dineroObject;\n    }\n\n    return transformScaleFn(dineroObject, newScale);\n  };\n}\n","import type { RoundingMode } from '../types';\n\n/**\n * Round a number down.\n *\n * @param value - The number to round.\n *\n * @returns The rounded number.\n */\nexport const down: RoundingMode = (value) => {\n  return Math.floor(value);\n};\n","import { isHalf } from '../utils';\n\nimport type { RoundingMode } from '../types';\n\n/**\n * Round a number with half values to nearest integer farthest from zero.\n *\n * @param value - The number to round.\n *\n * @returns The rounded number.\n */\nexport const halfAwayFromZero: RoundingMode = (value) => {\n  return isHalf(value)\n    ? Math.sign(value) * Math.ceil(Math.abs(value))\n    : Math.round(value);\n};\n","import { isHalf } from '../utils';\n\nimport type { RoundingMode } from '../types';\n\n/**\n * Round a number with half values down.\n *\n * @param value - The number to round.\n *\n * @returns The rounded number.\n */\nexport const halfDown: RoundingMode = (value) => {\n  return isHalf(value) ? Math.floor(value) : Math.round(value);\n};\n","import { isEven, isHalf } from '../utils';\n\nimport type { RoundingMode } from '../types';\n\n/**\n * Round a number with half values to nearest even integer.\n *\n * @param value - The number to round.\n *\n * @returns The rounded number.\n */\nexport const halfEven: RoundingMode = (value) => {\n  const rounded = Math.round(value);\n\n  if (!isHalf(value)) {\n    return rounded;\n  }\n\n  return isEven(rounded) ? rounded : rounded - 1;\n};\n","import { isEven, isHalf } from '../utils';\n\nimport type { RoundingMode } from '../types';\n\n/**\n * Round a number with half values to nearest odd integer.\n *\n * @param value - The number to round.\n *\n * @returns The rounded number.\n */\nexport const halfOdd: RoundingMode = (value) => {\n  const rounded = Math.round(value);\n\n  if (!isHalf(value)) {\n    return rounded;\n  }\n\n  return isEven(rounded) ? rounded - 1 : rounded;\n};\n","import { isHalf } from '../utils';\n\nimport type { RoundingMode } from '../types';\n\n/**\n * Round a number with half values to nearest integer closest to zero.\n *\n * @param value - The number to round.\n *\n * @returns The rounded number.\n */\nexport const halfTowardsZero: RoundingMode = (value) => {\n  return isHalf(value)\n    ? Math.sign(value) * Math.floor(Math.abs(value))\n    : Math.round(value);\n};\n","import type { RoundingMode } from '../types';\n\n/**\n * Round a number with half values up.\n *\n * @param value - The number to round.\n *\n * @returns The rounded number.\n */\nexport const halfUp: RoundingMode = (value) => {\n  return Math.round(value);\n};\n","import type { RoundingMode } from '../types';\n\n/**\n * Round a number up.\n *\n * @param value - The number to round.\n *\n * @returns The rounded number.\n */\nexport const up: RoundingMode = (value) => {\n  return Math.ceil(value);\n};\n"],"names":["INVALID_AMOUNT_MESSAGE","INVALID_SCALE_MESSAGE","INVALID_RATIOS_MESSAGE","UNEQUAL_SCALES_MESSAGE","UNEQUAL_CURRENCIES_MESSAGE","assert","condition","message","Error","createDinero","calculator","onCreate","dinero","amount","currency","scale","exponent","create","toJSON","compare","subject","comparator","ComparisonOperator","equal","EQ","countTrailingZeros","equalFn","input","base","zero","i","temp","modulo","integerDivide","increment","greaterThan","GT","greaterThanOrEqual","lessThan","LT","distribute","value","ratios","greaterThanFn","lessThanFn","greaterThanOrEqualFn","one","total","reduce","a","b","add","remainder","shares","map","ratio","share","multiply","subtract","isPositive","decrement","isScaledAmount","hasOwnProperty","getAmountAndScale","isEven","isHalf","Math","abs","lessThanOrEqual","maximum","values","acc","curr","minimum","haveSameCurrency","dineroObjects","firstDinero","otherDineros","every","d","code","transformScale","transformScaleFn","dineroObject","newScale","isNewScaleLarger","operation","terms","factor","power","normalizeScale","maximumFn","convertScaleFn","_normalizeScale","highestScale","highest","current","unsafeAdd","augend","addend","augendAmount","addendAmount","safeAdd","normalizeFn","addFn","newAugend","newAddend","unsafeAllocate","allocate","distributeFn","safeAllocate","allocateFn","ten","Array","fill","hasRatios","length","scaledRatios","highestRatioScale","normalizedRatios","hasOnlyPositiveRatios","hasOneNonZeroRatio","some","unsafeCompare","compareFn","cmp","subjectAmount","comparatorAmount","safeCompare","convert","convertFn","newCurrency","rates","rate","rateAmount","rateScale","haveSameAmount","_haveSameAmount","_equal","unsafeGreaterThan","gt","safeGreaterThan","unsafeGreaterThanOrEqual","gte","safeGreaterThanOrEqual","hasSubUnits","_hasSubUnits","isNegative","_isNegative","_isPositive","isZero","_isZero","unsafeLessThan","lt","safeLessThan","unsafeLessThanOrEqual","lessThanOrEqualFn","lte","safeLessThanOrEqual","unsafeMaximum","maxFn","max","safeMaximum","normalizedDineroObjects","unsafeMinimum","minFn","min","safeMinimum","multiplyFn","multiplicand","multiplier","multiplierAmount","multiplierScale","unsafeSubtract","minuend","subtrahend","minuendAmount","subtrahendAmount","safeSubtract","subtractFn","newMinuend","newSubtrahend","toUnit","toUnitFn","options","round","identity","toNumber","toUnitFactor","digits","toFormat","toFormatFn","transformer","toSnapshot","trimScale","countTrailingZerosFn","trimScaleFn","trailingZerosLength","difference","down","floor","halfAwayFromZero","sign","ceil","halfDown","halfEven","rounded","halfOdd","halfTowardsZero","halfUp","up"],"mappings":"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"}