/*! @dinero.js/core 2.0.0-alpha.8 | MIT License | Â© Sarah Dayan and contributors | https://v2.dinerojs.com */
!function(r,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((r="undefined"!=typeof globalThis?globalThis:r||self)["@dinero.js/core"]={})}(this,(function(r){"use strict";function n(r,n){return e(r)||function(r,n){var t=null==r?null:"undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(null==t)return;var e,a,u=[],o=!0,c=!1;try{for(t=t.call(r);!(o=(e=t.next()).done)&&(u.push(e.value),!n||u.length!==n);o=!0);}catch(r){c=!0,a=r}finally{try{o||null==t.return||t.return()}finally{if(c)throw a}}return u}(r,n)||a(r,n)||o()}function t(r){return e(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||a(r)||o()}function e(r){if(Array.isArray(r))return r}function a(r,n){if(r){if("string"==typeof r)return u(r,n);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?u(r,n):void 0}}function u(r,n){(null==n||n>r.length)&&(n=r.length);for(var t=0,e=new Array(n);t<n;t++)e[t]=r[t];return e}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,i="Ratios are invalid.",f="Objects must have the same currency.";function l(r,n){if(!r)throw new Error("[Dinero.js] ".concat(n))}function v(n){return function(t,e){return n.compare(t,e)===r.ComparisonOperator.EQ}}function s(n){return function(t,e){return n.compare(t,e)===r.ComparisonOperator.GT}}function m(r){return function(n,t){return s(r)(n,t)||v(r)(n,t)}}function y(n){return function(t,e){return n.compare(t,e)===r.ComparisonOperator.LT}}function h(r){return function(n,t){var e=v(r),a=s(r),u=y(r),o=m(r),c=r.zero(),i=r.increment(c),f=t.reduce((function(n,t){return r.add(n,t)}),c);if(e(f,c))return t;for(var l=n,h=t.map((function(t){var e=r.integerDivide(r.multiply(n,t),f)||c;return l=r.subtract(l,e),e})),d=o(n,c),p=d?a:u,S=d?i:r.decrement(c),A=0;p(l,c);)e(t[A],c)||(h[A]=r.add(h[A],S),l=r.subtract(l,S)),A++;return h}}function d(r,n){var t,e;return(null==(e=r)?void 0:e.hasOwnProperty("amount"))?{amount:r.amount,scale:null!==(t=null==r?void 0:r.scale)&&void 0!==t?t:n}:{amount:r,scale:n}}function p(r){return r%2==0}function S(r){return Math.abs(r)%1==.5}function A(r){var n=y(r);return function(r){return r.reduce((function(r,t){return n(r,t)?t:r}))}}function O(r){var n=t(r),e=n[0],a=n.slice(1),u=e.toJSON().currency,o=v(e.calculator);return a.every((function(r){var n=r.toJSON().currency;return n.code===u.code&&o(n.base,u.base)&&o(n.exponent,u.exponent)}))}function g(r){var n=s(r);return function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];var u=e[0],o=e[1],c=u.toJSON(),i=c.amount,f=c.currency,l=c.scale,v=n(o,l),s=v?r.multiply:r.integerDivide,m=v?[o,l]:[l,o],y=r.power(f.base,r.subtract.apply(r,m));return u.create({amount:s(i,y),currency:f,scale:o})}}function w(r){var n=A(r),t=g(r),e=v(r);return function(){for(var a=arguments.length,u=new Array(a),o=0;o<a;o++)u[o]=arguments[o];var c=u[0],i=c.reduce((function(r,t){var e=t.toJSON().scale;return n([r,e])}),r.zero());return c.map((function(r){var n=r.toJSON().scale;return e(n,i)?r:t(r,i)}))}}function N(r){var n=w(r),e=v(r);return function(){for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];var o=a[0],c=n(o),i=t(c),f=i[0],l=i.slice(1),v=f.toJSON(),s=v.amount;return l.every((function(r){var n=r.toJSON().amount;return e(n,s)}))}}function b(r){var t=function(r){return function(n,t){return y(r)(n,t)||v(r)(n,t)}}(r);return function(){for(var r=arguments.length,e=new Array(r),a=0;a<r;a++)e[a]=arguments[a];var u=e[0],o=e[1],c=[u,o],i=c.map((function(r){return r.toJSON().amount})),f=n(i,2),l=f[0],v=f[1];return t(l,v)}}function J(r){var t=function(r){var n=s(r);return function(r){return r.reduce((function(r,t){return n(r,t)?t:r}))}}(r);return function(){for(var r=arguments.length,e=new Array(r),a=0;a<r;a++)e[a]=arguments[a];var u=e[0],o=n(u,1),c=o[0],i=c.toJSON(),f=i.currency,l=i.scale,v=t(u.map((function(r){return r.toJSON().amount})));return c.create({amount:v,currency:f,scale:l})}}function M(r){return function(){for(var n,t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];var u=e[0],o=e[1],c=(null==o?void 0:o.round)||E,i=u.toJSON(),f=i.amount,l=i.currency,v=i.scale,s=r.power,m=r.toNumber,y=m(s(l.base,v)),h=m(s(l.base,null!==(n=null==o?void 0:o.digits)&&void 0!==n?n:v));return c(m(f)/y*h)/h}}function E(r){return r}r.ComparisonOperator=void 0,(c=r.ComparisonOperator||(r.ComparisonOperator={}))[c.LT=-1]="LT",c[c.EQ=0]="EQ",c[c.GT=1]="GT";r.INVALID_AMOUNT_MESSAGE="Amount is invalid.",r.INVALID_RATIOS_MESSAGE=i,r.INVALID_SCALE_MESSAGE="Scale is invalid.",r.UNEQUAL_CURRENCIES_MESSAGE=f,r.UNEQUAL_SCALES_MESSAGE="Objects must have the same scale.",r.assert=l,r.convert=function(r){var n=g(r),t=A(r),e=r.zero();return function(){for(var a=arguments.length,u=new Array(a),o=0;o<a;o++)u[o]=arguments[o];var c=u[0],i=u[1],f=u[2],l=f[i.code],v=c.toJSON(),s=v.amount,m=v.scale,y=d(l,e),h=y.amount,p=y.scale,S=r.add(m,p);return n(c.create({amount:r.multiply(s,h),currency:i,scale:S}),t([S,i.exponent]))}},r.createDinero=function(r){var n=r.calculator,t=r.onCreate;return function r(e){var a=e.amount,u=e.currency,o=e.scale,c=void 0===o?u.exponent:o;return null==t||t({amount:a,currency:u,scale:c}),{calculator:n,create:r,toJSON:function(){return{amount:a,currency:u,scale:c}}}}},r.down=function(r){return Math.floor(r)},r.equal=function(r){return function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];var a=t[0],u=t[1];return N(r)([a,u])&&O([a,u])}},r.halfAwayFromZero=function(r){return S(r)?Math.sign(r)*Math.ceil(Math.abs(r)):Math.round(r)},r.halfDown=function(r){return S(r)?Math.floor(r):Math.round(r)},r.halfEven=function(r){var n=Math.round(r);return S(r)?p(n)?n:n-1:n},r.halfOdd=function(r){var n=Math.round(r);return S(r)&&p(n)?n-1:n},r.halfTowardsZero=function(r){return S(r)?Math.sign(r)*Math.floor(Math.abs(r)):Math.round(r)},r.halfUp=function(r){return Math.round(r)},r.hasSubUnits=function(r){var n=v(r);return function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];var u=e[0],o=u.toJSON(),c=o.amount,i=o.currency,f=o.scale;return!n(r.modulo(c,r.power(i.base,f)),r.zero())}},r.haveSameAmount=N,r.haveSameCurrency=O,r.isNegative=function(r){var n=y(r);return function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];var u=e[0],o=u.toJSON(),c=o.amount;return n(c,r.zero())}},r.isPositive=function(r){var n=m(r);return function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];var u=e[0],o=u.toJSON(),c=o.amount;return n(c,r.zero())}},r.isZero=function(r){var n=v(r);return function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];var u=e[0],o=u.toJSON(),c=o.amount;return n(c,r.zero())}},r.multiply=function(r){var n=g(r),t=r.zero();return function(){for(var e=arguments.length,a=new Array(e),u=0;u<e;u++)a[u]=arguments[u];var o=a[0],c=a[1],i=o.toJSON(),f=i.amount,l=i.currency,v=i.scale,s=d(c,t),m=s.amount,y=s.scale,h=r.add(v,y);return n(o.create({amount:r.multiply(f,m),currency:l,scale:h}),h)}},r.normalizeScale=w,r.safeAdd=function(r){var t=w(r),e=function(r){return function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];var a=t[0],u=t[1],o=a.toJSON(),c=o.amount,i=o.currency,f=o.scale,l=u.toJSON().amount,v=r.add(c,l);return a.create({amount:v,currency:i,scale:f})}}(r);return function(){for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];var o=a[0],c=a[1],i=O([o,c]);l(i,f);var v=t([o,c]),s=n(v,2),m=s[0],y=s[1];return e(m,y)}},r.safeAllocate=function(r){var n=function(r){return function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];var a=t[0],u=t[1],o=a.toJSON(),c=o.amount,i=o.currency,f=o.scale;return h(r)(c,u.map((function(r){return r.amount}))).map((function(r){return a.create({amount:r,currency:i,scale:f})}))}}(r),t=m(r),e=s(r),a=g(r),u=A(r),o=v(r),c=r.zero(),f=new Array(10).fill(null).reduce(r.increment,c);return function(){for(var v=arguments.length,s=new Array(v),m=0;m<v;m++)s[m]=arguments[m];var y=s[0],h=s[1],p=h.length>0,S=h.map((function(r){return d(r,c)})),A=p?u(S.map((function(r){return r.scale}))):c,O=S.map((function(n){var t=n.amount,e=n.scale,a=o(e,A)?c:r.subtract(A,e);return{amount:r.multiply(t,r.power(f,a)),scale:e}})),g=O.every((function(r){var n=r.amount;return t(n,c)})),w=O.some((function(r){var n=r.amount;return e(n,c)})),N=p&&g&&w;l(N,i);var b=y.toJSON(),J=b.scale,M=r.add(J,A);return n(a(y,M),O)}},r.safeCompare=function(r){var t=w(r),e=function(r){var t=function(r){return function(n,t){return r.compare(n,t)}}(r);return function(){for(var r=arguments.length,e=new Array(r),a=0;a<r;a++)e[a]=arguments[a];var u=n([e[0],e[1]].map((function(r){return r.toJSON().amount})),2),o=u[0],c=u[1];return t(o,c)}}(r);return function(){for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];var o=a[0],c=a[1],i=O([o,c]);l(i,f);var v=t([o,c]),s=n(v,2),m=s[0],y=s[1];return e(m,y)}},r.safeGreaterThan=function(r){var t=w(r),e=function(r){var t=s(r);return function(){for(var r=arguments.length,e=new Array(r),a=0;a<r;a++)e[a]=arguments[a];var u=n([e[0],e[1]].map((function(r){return r.toJSON().amount})),2),o=u[0],c=u[1];return t(o,c)}}(r);return function(){for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];var o=a[0],c=a[1],i=O([o,c]);l(i,f);var v=t([o,c]),s=n(v,2),m=s[0],y=s[1];return e(m,y)}},r.safeGreaterThanOrEqual=function(r){var t=w(r),e=function(r){var t=m(r);return function(){for(var r=arguments.length,e=new Array(r),a=0;a<r;a++)e[a]=arguments[a];var u=n([e[0],e[1]].map((function(r){return r.toJSON().amount})),2),o=u[0],c=u[1];return t(o,c)}}(r);return function(){for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];var o=a[0],c=a[1],i=O([o,c]);l(i,f);var v=t([o,c]),s=n(v,2),m=s[0],y=s[1];return e(m,y)}},r.safeLessThan=function(r){var t=w(r),e=function(r){var t=y(r);return function(){for(var r=arguments.length,e=new Array(r),a=0;a<r;a++)e[a]=arguments[a];var u=n([e[0],e[1]].map((function(r){return r.toJSON().amount})),2),o=u[0],c=u[1];return t(o,c)}}(r);return function(){for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];var o=a[0],c=a[1],i=O([o,c]);l(i,f);var v=t([o,c]),s=n(v,2),m=s[0],y=s[1];return e(m,y)}},r.safeLessThanOrEqual=function(r){var t=w(r),e=b(r);return function(){for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];var o=a[0],c=a[1],i=O([o,c]);l(i,f);var v=t([o,c]),s=n(v,2),m=s[0],y=s[1];return e(m,y)}},r.safeMaximum=function(r){var t=w(r),e=function(r){var t=A(r);return function(){for(var r=arguments.length,e=new Array(r),a=0;a<r;a++)e[a]=arguments[a];var u=e[0],o=n(u,1)[0],c=o.toJSON(),i=c.currency,f=c.scale,l=t(u.map((function(r){return r.toJSON().amount})));return o.create({amount:l,currency:i,scale:f})}}(r);return function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var u=n[0],o=O(u);l(o,f);var c=t(u);return e(c)}},r.safeMinimum=function(r){var n=w(r),t=J(r);return function(){for(var r=arguments.length,e=new Array(r),a=0;a<r;a++)e[a]=arguments[a];var u=e[0],o=O(u);l(o,f);var c=n(u);return t(c)}},r.safeSubtract=function(r){var t=w(r),e=function(r){return function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];var a=t[0],u=t[1],o=a.toJSON(),c=o.amount,i=o.currency,f=o.scale,l=u.toJSON().amount,v=r.subtract(c,l);return a.create({amount:v,currency:i,scale:f})}}(r);return function(){for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];var o=a[0],c=a[1],i=O([o,c]);l(i,f);var v=t([o,c]),s=n(v,2),m=s[0],y=s[1];return e(m,y)}},r.toFormat=function(r){var n=M(r);return function(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];var a=t[0],u=t[1],o=a.toJSON(),c=o.currency,i=o.scale,f=n(a,{digits:i});return u({amount:f,currency:c,dineroObject:a})}},r.toSnapshot=function(r){return r.toJSON()},r.toUnit=M,r.transformScale=g,r.trimScale=function(r){var n=function(r){var n=v(r);return function(t,e){for(var a=r.zero(),u=a,o=t;n(r.modulo(o,e),a);)o=r.integerDivide(o,e),u=r.increment(u);return u}}(r),t=v(r),e=A(r),a=g(r);return function(){for(var u=arguments.length,o=new Array(u),c=0;c<u;c++)o[c]=arguments[c];var i=o[0],f=i.toJSON(),l=f.amount,v=f.currency,s=f.scale,m=v.base,y=v.exponent,h=n(l,m),d=r.subtract(s,h),p=e([d,y]);return t(p,s)?i:a(i,p)}},r.up=function(r){return Math.ceil(r)},Object.defineProperty(r,"__esModule",{value:!0})}));
//# sourceMappingURL=index.production.js.map
